!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.MappersmithObject=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){/*!
 * MappersmithObject 0.4.0
 * https://github.com/tulios/mappersmith-object
 */
var Instance=require("./src/instance");module.exports={Instance:Instance,Exceptions:require("./src/exceptions"),create:function(attrs,opts){return new Instance(attrs,opts)}}},{"./src/exceptions":2,"./src/instance":3}],2:[function(require,module,exports){function StrictViolationException(){this.message='[MappersmithObject] This object is configured with "strict: true" and doesn\'t  allow undefined keys',this.toString=function(){return this.message}}module.exports={StrictViolationException:StrictViolationException}},{}],3:[function(require,module,exports){function isThenable(value){return value&&"object"==typeof value&&value.then}function isDefined(value){return void 0!==value&&null!==value}function checkForStrictViolations(obj){if(this._opts.strict&&void 0===obj)throw new Exceptions.StrictViolationException}function warn(message){console&&console.warn&&console.warn("[MappersmithObject] "+message)}function Instance(obj,opts){this._id=++objectIDCount,this._original=obj,this._opts=merge({strict:!1},opts),this._attributes=null,this._aliases={},this.reset()}var merge=require("./merge"),Exceptions=require("./exceptions"),isNumber=require("./number").isInteger,objectIDCount=0;Instance.prototype={attributes:function(){var argumentsLength=arguments.length;if(0===argumentsLength)return merge({},this._attributes);for(var output=new Instance,i=0;argumentsLength>i;i++){var attr=arguments[i];output.set(attr,this.get(attr))}return output.attributes()},reset:function(){return this._attributes=merge({},this._original)},update:function(newAttributes){return this._attributes=merge(this._attributes,newAttributes)},alias:function(aliases){var argumentsLength=arguments.length;if(0===argumentsLength)return merge({},this._aliases);var filteredAliases={};return Object.keys(aliases||{}).forEach(function(name){this.has(name,{skipAlias:!0})?warn('Skipping alias "'+name+'". It is shadowing/hiding an attribute with the same name'):filteredAliases[name]=aliases[name]}.bind(this)),this._aliases=merge(this._aliases,filteredAliases),this},get:function(stringChain,opts){opts=merge({default:null,skipAlias:!1},opts);var methods=stringChain.split(/\./),obj=this._attributes,holder=null;if(!opts.skipAlias){var alias=this._aliases[stringChain];if(alias)return this.get(alias)}return methods.forEach(function(method){method="-1"===method?obj.length-1:method,holder=isDefined(obj)?obj[method]:null,checkForStrictViolations.call(this,holder),obj=holder}.bind(this)),isDefined(holder)?holder:opts.default},set:function(stringChain,value){if(isThenable(value))return value.then(function(result){return this.set(stringChain,result)}.bind(this));var methods=stringChain.split(/\./),obj=this._attributes,last=methods.length-1,alias=this._aliases[stringChain];return alias?this.set(alias,value):(methods.forEach(function(method,i){i!==last?(obj[method]||(checkForStrictViolations.call(this,obj[method]),obj[method]={}),obj=obj[method]):(checkForStrictViolations.call(this,obj[method]),obj[method]=value)}.bind(this)),value)},fetch:function(stringChain,value){var result=this.get(stringChain);if(!result){var newValue="function"==typeof value?value():value;return this.set(stringChain,newValue)}return result},has:function(stringChain,opts){try{return opts=merge({skipAlias:!1},opts),isDefined(this.get(stringChain,opts))}catch(e){if(e instanceof Exceptions.StrictViolationException)return!1;throw e}},isBlank:function(stringChain){try{var value=this.get(stringChain),objToString=Object.prototype.toString.call(value);return value===!1||!isDefined(value)||"[object Array]"===objToString&&0===value.length||"[object String]"===objToString&&(0===value.length||/^\s+$/g.test(value))||"[object Number]"===objToString&&isNaN(value)||"[object Object]"===objToString&&0===Object.keys(value).length}catch(e){if(e instanceof Exceptions.StrictViolationException)return!0;throw e}},isPresent:function(stringChain){return!this.isBlank(stringChain)},inc:function(stringChain,factor){factor=factor||1;var current=this.get(stringChain);return isDefined(current)?isNumber(current)?this.set(stringChain,current+factor):!1:this.set(stringChain,factor)},dec:function(stringChain,factor){return this.inc(stringChain,-1*(factor||1))},toggle:function(stringChain){var value=this.get(stringChain);return isDefined(value)?"boolean"==typeof value?this.set(stringChain,!value):!1:this.set(stringChain,!0)},toArray:function(stringChain){var value=stringChain?this.get(stringChain):this.attributes();if(!isDefined(value))return[];var objToString=Object.prototype.toString.call(value);return"[object Array]"===objToString?value:[value]},toString:function(){return"<MappersmithObject.Instance:#"+this._id+">"}};var signature=Object.keys(Instance.prototype);signature.splice(signature.indexOf("toString"),1),Instance.prototype.extend=function(mixin){return mixin=merge({},mixin),Object.keys(mixin).forEach(function(key){if(-1!==["extend"].concat(signature).indexOf(key))throw new Error('[MappersmithObject] trying to extend object with a reserved method name ("'+key+'")');this[key]=function(){return mixin[key].apply(this,arguments)}}.bind(this)),this},Instance.prototype.is=Instance.prototype.has,module.exports=Instance},{"./exceptions":2,"./merge":4,"./number":5}],4:[function(require,module,exports){function isObject(value){return"[object Object]"===Object.prototype.toString.call(value)}function isArray(value){return"[object Array]"===Object.prototype.toString.call(value)}function merge(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},length=arguments.length,i=1;for("object"!=typeof target&&"function"!=typeof target&&(target={});length>i;i++)if(null!==(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(copy&&(isObject(copy)||(copyIsArray=isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&isArray(src)?src:[]):clone=src&&isObject(src)?src:{},target[name]=merge(clone,copy)):void 0!==copy&&(target[name]=copy));return target}module.exports=merge},{}],5:[function(require,module,exports){module.exports={isInteger:Number.isInteger||function(value){return"number"==typeof value&&isFinite(value)&&Math.floor(value)===value}}},{}]},{},[1])(1)});